---
import { t } from 'i18next'

import { getImage } from 'astro:assets'
import bgStats2 from '../../../img/bg-stats-2.jpg'
import ImageBackground from '../../../components/template/ImageBackground.astro'

const optimizedBackground = await getImage({ src: bgStats2, format: 'webp' })

const statsData = [
	{
		kpiValue: '600000',
		kpiLabel: ['landing.stats2.item1']
	},
	{
		kpiValue: '66000',
		kpiLabel: ['landing.stats2.item2'],
		letter: 'Kg.'
	}
]
---

<section id="stats2" class="relative h-[80vh] lg:h-[642px]">
	<ImageBackground desktpBg={optimizedBackground} extraClassImg="object-fill">
		<div class="container-screen flex h-full flex-col items-start justify-center gap-16 md:gap-16">
			<span class="relative z-10 mb-2 block w-10 border-2 border-white"></span>
			<div
				class="kpi flex w-full flex-wrap items-center justify-center gap-16 md:items-start md:justify-evenly md:gap-0"
			>
				{
					statsData.map((stat, index) => {
						return (
							<div class="table-cell-stat1 relative  z-10 align-top text-white md:p-4">
								<span
									class={`flex items-center justify-center gap-2 text-center text-5xl font-bold ${index ? 'text-[#CCEB52]' : 'tetx-white'}`}
								>
									<p>+</p>{' '}
									<p id={`${index}-kpi-stat2`} class="kpi-stat2" data-kpi={stat.kpiValue}>
										0
									</p>
									{stat?.letter && <p>{stat.letter}</p>}
								</span>
								{stat.kpiLabel.map((p) => (
									<p class="text-center text-2xl">{t(p)}</p>
								))}
							</div>
						)
					})
				}
			</div>
			<div class="relative z-20 mt-8 w-full">
				<p
					class="mx-auto max-w-[180px] text-center text-lg text-gray-300 sm:max-w-none md:px-0 md:text-2xl"
				>
					{t('landing.stats2.bottomLine')}
				</p>
			</div>
		</div>
	</ImageBackground>
</section>
<style>
	@media (max-height: 480px) {
		.container-screen {
			flex-direction: column;
		}

		.kpi {
			justify-content: space-evenly;
			align-items: center;
		}

		.table-cell-stat2 span {
			font-size: 3rem;
		}

		.table-cell-stat2 p {
			font-size: 1.5rem;
		}
	}
	@media (min-width: 480px) and (max-width: 1600px) and (max-height: 900px) {
		.container {
			max-width: none;
			padding-left: 6rem;
			padding-right: 6rem;
		}
	}
</style>
