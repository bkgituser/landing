---
const { desktpBg, mobileImg } = Astro.props
console.log(desktpBg, mobileImg)
---

<div class={`h-full`}>
	<div class={`absolute h-full w-full`}>
		<div class="h-full w-full overflow-hidden">
			<div class="mask background-img relative z-20 h-full w-full overflow-hidden">
				<picture>
					<source srcset={desktpBg.src} media="(min-width:768px)" />
					<source srcset={mobileImg.src} media="(max-width:768px)" />
					<img
						src={desktpBg.src}
						class={`object-bottom object-cover relative md:object-cover md:scale-125 md:object-[0_65%] w-full  h-full`}
						alt="product"
						width="100%"
						height="100%"
						loading="lazy"
					/>
				</picture>
			</div>
		</div>
	</div>

	<slot />
</div>
<style>
	.mask {
		position: absolute;
	}
	.mask::after {
		content: '';
		position: absolute;
		height: 40%;
		bottom: 0;
		background: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.6) 100%);
		z-index: 2;
		width: 100%;
	}

	@media (max-width: 768px) {
		.mask::before {
			content: '';
			position: absolute;
			height: 40%;
			top: 0;
			background: linear-gradient(
				0deg,
				hsla(0, 0%, 100%, 0.108) 0%,
				hsla(0, 0%, 100%, 0.261) 9%,
				hsla(0, 0%, 100%, 0.403) 18%,
				hsla(0, 0%, 100%, 0.607) 27%,
				hsla(0, 0%, 100%, 0.663) 36%,
				hsla(0, 0%, 100%, 0.7) 45%,
				hsla(0, 0%, 100%, 0.724) 55%,
				hsla(0, 0%, 100%, 0.8) 64%,
				hsla(0, 0%, 100%, 0.85) 73%,
				hsla(0, 0%, 100%, 0.906) 82%,
				hsla(0, 0%, 100%, 0.967) 91%,
				hsl(0deg 0% 100%) 100%
			);
			z-index: 2;
			width: 100%;
		}

		.mask {
			position: relative;
		}
		.mask::after {
			background: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 1) 100%);
			bottom: 0rem;
			height: 40%;
		}
	}
	@media (max-width: 480px) and (max-height: 700px) {
		.mask::before {
			height: 30%;
		}
	}

	@media (max-width: 480px) and (max-height: 760px) {
		img {
			top: -6rem;
		}

		.mask {
			position: relative;
		}
		.mask::after {
			background: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 1) 100%);
			bottom: 6rem;
			height: 40%;
		}
	}
</style>
