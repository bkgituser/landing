---
const { desktpBg } = Astro.props
import { Picture, getImage } from 'astro:assets'

import CloudsImg from 'src/img/clouds.png'

const mobileBg = await getImage({ src: CloudsImg, format: 'png' })
---

<div class={`h-full`}>
	<div class={`absolute h-full w-full`}>
		<div class="mask w-full overflow-hidden md:h-full">
			<img
				{...mobileBg}
				alt="background"
				class={`mobile-img m-0 w-full object-contain md:hidden`}
				loading="lazy"
			/>
			<Picture
				src={desktpBg}
				widths={[480, 768, 976, 1050, 1440, 1770]}
				alt="background"
				class={`background-img h-full w-full scale-125 -top-24 relative md:object-cover md:top-auto md:object-[0_65%]  bg-no-repeat bg-cover]`}
				loading="lazy"
				style={{ backgroundImage: 'url(/assets/imgs/lineup1-sm.webp)' }}
			/>
		</div>
	</div>

	<slot />
</div>
<style>
	.mask {
		position: absolute;
	}
	.mask::after {
		content: '';
		position: absolute;
		height: 40%;
		bottom: 0;
		background: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.6) 100%);
		z-index: 2;
		width: 100%;
	}
	@media (max-width: 768px) {
		.mask {
			position: relative;
		}
		.mask::after {
			background: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 1) 100%);
			bottom: 3rem;
			height: 10%;
		}
	}

	@media (min-width: 440px) and (max-width: 668px) and (max-height: 800px) {
		.background-img {
			top: -12rem;
		}

		.mask::after {
			height: 10%;
			bottom: 12rem;
		}
	}

	@media (min-width: 668px) and (max-width: 768px) and (max-height: 800px) {
		.background-img {
			top: -20rem;
		}

		.mask::after {
			height: 10%;
			bottom: 20rem;
		}
	}
	@media (max-width: 767px) and (min-height: 820px) {
		.background-img {
			top: 0px;
		}

		.mask {
			position: relative;
		}
		.mask::after {
			bottom: 0rem;
		}
	}

	/* LANDSCAPE */
	@media (max-height: 480px) {
		.mobile-img {
			display: none;
			visibility: hidden;
		}

		.mask::after {
			height: 10%;
			bottom: 0rem;
		}
	}
</style>
