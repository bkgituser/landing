---
import { Image } from 'astro:assets'
const {
	video,
	autoplay = false,
	placeholder,
	id = 'default',
	muted = true,
	preload = 'none'
} = Astro.props
---

<div class="relative h-svh min-h-screen">
	<div class="absolute h-full w-full overflow-hidden">
		<video id={id} autoplay={autoplay} loop playsinline class="video-js" preload={preload}>
			<source src={video} type="video/mp4" />
		</video>
		<!-- {
			placeholder && (
				<Image
					src={placeholder}
					alt="Video Poster"
					class="absolute h-full w-full object-cover"
					loading="lazy"
					decoding="async"
					id="video-poster"
				/>
			)
		} -->
	</div>
	<slot />
</div>
<style>
	video::-webkit-media-controls-start-playback-glyph {
		will-change: opacity;
	}
</style>
